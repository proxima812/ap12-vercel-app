---
import { getCollection } from 'astro:content'

import PostCard from '@/components/PostCard.astro'
import Link from '@/components/shared/Link.astro'
import TGIcon from '@/components/shared/TGIcon.astro'
import Layout from '@/layouts/Layout.astro'

const posts = (await getCollection('posts')).sort(function (first, second) {
  return second.data.publishedAt.getTime() - first.data.publishedAt.getTime()
})
---

<Layout>
  <main class="flex flex-col gap-20">
    <article class="flex flex-col gap-5">
      <h1
        class="bg-gradient-to-r from-pink-400 to-indigo-600 bg-clip-text text-2xl font-bold text-transparent sm:text-4xl md:text-5xl"
      >
        –ê–Ω–æ–Ω–∏–º–Ω—ã–µ –ü—Ä–æ–∫—Ä–∞—Å—Ç–∏–Ω–∞—Ç–æ—Ä—ã
      </h1>
      <p class="md:text-lg">
        <b>–ê–Ω–æ–Ω–∏–º–Ω—ã–µ –ü—Ä–æ–∫—Ä–∞—Å—Ç–∏–Ω–∞—Ç–æ—Ä—ã</b> - —ç—Ç–æ —Å–æ–æ–±—â–µ—Å—Ç–≤–æ, –æ–±—ä–µ–¥–∏–Ω—è—é—â–µ–µ –º—É–∂—á–∏–Ω –∏ –∂–µ–Ω—â–∏–Ω, –∫–æ—Ç–æ—Ä—ã–µ
        –¥–µ–ª—è—Ç—Å—è –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º —Å–≤–æ–∏–º <b>–æ–ø—ã—Ç–æ–º</b>, <b>—Å–∏–ª–∞–º–∏</b> –∏ <b>–Ω–∞–¥–µ–∂–¥–∞–º–∏</b> —Å —Ü–µ–ª—å—é
        –ø–æ–º–æ—á—å —Å–µ–±–µ –∏ –¥—Ä—É–≥–∏–º –ø–æ–º–æ—á—å –ø—Ä–µ–æ–¥–æ–ª–µ—Ç—å <b>–ø—Ä–æ–∫—Ä–∞—Å—Ç–∏–Ω–∞—Ü–∏—é.</b>
      </p>
      <a
        href="https://t.me/+nSWS3inC4gE2Njg6"
        class="flex items-center gap-2 self-start rounded-full bg-sky-100 px-3 py-2 font-medium text-sky-700 transition-colors ease-linear hover:bg-sky-200"
        ><TGIcon />–ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è –∫ –Ω–∞–º</a
      >
    </article>

    <article class="flex flex-col gap-8">
      <header class="flex w-full flex-row justify-between gap-2">
        <h3 class="text-lg text-neutral-100">–ü–æ—Å–ª–µ–¥–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–∏</h3>
        <Link href="/posts" label="–°–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –Ω–æ–≤–æ—Å—Ç–∏" isUnderline target="_self" />
      </header>
      {posts.length === 0 && <p>–ü–æ–∫–∞ —á—Ç–æ –Ω–∏—á–µ–≥–æ –Ω–µ—Ç—É üëÄ...</p>}

      <section class="flex flex-col gap-4 md:flex-row md:flex-wrap">
        {
          posts.length !== 0 &&
            posts
              .slice(0, 6)
              .map((post) => (
                <PostCard
                  publishedAt={post.data.publishedAt}
                  title={post.data.title}
                  description={post.data.description}
                  slug={post.slug}
                />
              ))
        }
      </section>
    </article>
  </main>
</Layout>
